DROP TABLE MEMBER CASCADE CONSTRAINTS;

DROP TABLE GRADE CASCADE CONSTRAINTS;

DROP TABLE INVOICE CASCADE CONSTRAINTS;

DROP TABLE PRODUCT CASCADE CONSTRAINTS;

SELECT * FROM MEMBER;

SELECT * FROM GRADE;

SELECT * FROM INVOICE;

SELECT * FROM PRODUCT;

--회원 정보 테이블

CREATE TABLE MEMBER (

MEMBER_NO INTEGER NOT NULL,

MEMBER_ID VARCHAR2(10) NOT NULL,

MEMBER_PW VARCHAR2(10) NOT NULL,

NAME VARCHAR2(10) NOT NULL,

ADDRESS VARCHAR2(50) NOT NULL,

PHONE VARCHAR2(20) NOT NULL,


GRADE_NO integer NOT NULL,

MILEAGE INTEGER

);

ALTER TABLE MEMBER ADD CONSTRAINT "MEMBER_pk" PRIMARY KEY ( "MEMBER_NO" );

ALTER TABLE MEMBER

ADD CONSTRAINT "MEMBER_GRADE_FK" FOREIGN KEY ( "GRADE_NO" )

REFERENCES "GRADE" ( "GRADE_NO" );

--회원 등급 테이블

CREATE TABLE GRADE (


GRADE_NO integer NOT NULL,

GRADE_NM VARCHAR2(10) NOT NULL,

GRADE_DC INTEGER NOT NULL

);

ALTER TABLE "GRADE" ADD CONSTRAINT "GRADE_PK" PRIMARY KEY ( "GRADE_NO" );

--주문 테이블

CREATE TABLE INVOICE (

INVOICE_NO INTEGER NOT NULL,

QUANTITY integer default 0, 

MEMBER_NO INTEGER NOT NULL,

INVOICE_DATE DATE,

PAYMENT INTEGER NOT NULL,

PRODUCT_NO INTEGER NOT NULL

);

ALTER TABLE INVOICE ADD CONSTRAINT INVOICE_pk PRIMARY KEY ( "INVOICE_NO" );

ALTER TABLE INVOICE

ADD CONSTRAINT "INVOICE_PRODUCT_FK" FOREIGN KEY ( "PRODUCT_NO" )

REFERENCES "PRODUCT" ( "PRODUCT_NO" );

ALTER TABLE INVOICE

ADD CONSTRAINT "INVOICE_MEMBER_FK" FOREIGN KEY ( "MEMBER_NO" )

REFERENCES "MEMBER" ( "MEMBER_NO" );

--상품 정보 테이블

CREATE TABLE PRODUCT (

PRODUCT_NO INTEGER NOT NULL,

CATEGORY VARCHAR2(10),

PRODUCT_NAME VARCHAR2(10),

COUNTRY VARCHAR2(10),

MATERIAL VARCHAR2(10),

PRICE INTEGER default 0,

STOCK INTEGER

);

ALTER TABLE PRODUCT ADD CONSTRAINT "PRODUCT_PK" PRIMARY KEY ( "PRODUCT_NO" );

-- 회원정보

INSERT INTO "MEMBER"("MEMBER_NO","MEMBER_ID","MEMBER_PW","NAME","ADDRESS","PHONE","GRADE_NO","MILEAGE")

VALUES('001','customer1','1234','홍길동','서울시 강남구','01023234545',1,5000);

INSERT INTO "MEMBER"("MEMBER_NO","MEMBER_ID","MEMBER_PW","NAME","ADDRESS","PHONE","GRADE_NO","MILEAGE")

VALUES('002','customer2','1235','김철수','서울시 노원구','01012344545',2,500);

INSERT INTO "MEMBER"("MEMBER_NO","MEMBER_ID","MEMBER_PW","NAME","ADDRESS","PHONE","GRADE_NO","MILEAGE")

VALUES('003','customer3','1236','김민희','서울시 동작구','01012341234',3,0);

INSERT INTO "MEMBER"("MEMBER_NO","MEMBER_ID","MEMBER_PW","NAME","ADDRESS","PHONE","GRADE_NO","MILEAGE")

VALUES('004','customer4','1237','김준호','경기도 안양시','01045661554',1,1000);

INSERT INTO "MEMBER"("MEMBER_NO","MEMBER_ID","MEMBER_PW","NAME","ADDRESS","PHONE","GRADE_NO","MILEAGE")

VALUES('005','customer5','1238','홍영희','경기도 남양주시','01045551554',2,2000);

COMMIT;

-- 회원등급 

INSERT INTO "GRADE"("GRADE_NO","GRADE_NM","GRADE_DC")

VALUES(1,'GOLD',3);

INSERT INTO "GRADE"("GRADE_NO","GRADE_NM","GRADE_DC")

VALUES(2,'SLIVER',2);

INSERT INTO "GRADE"("GRADE_NO","GRADE_NM","GRADE_DC")

VALUES(3,'BRONZE',1);

COMMIT;

--주문

INSERT INTO "INVOICE"("INVOICE_NO","QUANTITY","MEMBER_NO","INVOICE_DATE","PAYMENT","PRODUCT_NO")

VALUES(0001, 1, '001','2023-03-02',10000,'02');

INSERT INTO "INVOICE"("INVOICE_NO","QUANTITY","MEMBER_NO","INVOICE_DATE","PAYMENT","PRODUCT_NO")

VALUES(0002, 1, '002','2023-03-02',5000,'01');

INSERT INTO "INVOICE"("INVOICE_NO","QUANTITY","MEMBER_NO","INVOICE_DATE","PAYMENT","PRODUCT_NO")

VALUES(0003, 1, '003','2023-03-02',15000,'03');

INSERT INTO "INVOICE"("INVOICE_NO","QUANTITY","MEMBER_NO","INVOICE_DATE","PAYMENT","PRODUCT_NO")

VALUES(0004, 1, '004','2023-03-02',20000,'04');

COMMIT;

--상품정보

INSERT INTO "PRODUCT"("PRODUCT_NO","CATEGORY","PRODUCT_NAME","COUNTRY","MATERIAL","PRICE","STOCK")

VALUES('01','상의','반팔T','한국','면',5000,6);

INSERT INTO "PRODUCT"("PRODUCT_NO","CATEGORY","PRODUCT_NAME","COUNTRY","MATERIAL","PRICE","STOCK")

VALUES('02','상의','긴팔T','중국','면',10000,5);

INSERT INTO "PRODUCT"("PRODUCT_NO","CATEGORY","PRODUCT_NAME","COUNTRY","MATERIAL","PRICE","STOCK")

VALUES('03','하의','반바지','한국','폴리',15000,10);

INSERT INTO "PRODUCT"("PRODUCT_NO","CATEGORY","PRODUCT_NAME","COUNTRY","MATERIAL","PRICE","STOCK")

VALUES('04','하의','긴바지','중국','면',20000,3);

INSERT INTO "PRODUCT"("PRODUCT_NO","CATEGORY","PRODUCT_NAME","COUNTRY","MATERIAL","PRICE","STOCK")

VALUES('05','하의','치마','베트남','면',16000,5);

COMMIT;
